webpackJsonp([12],{GYSj:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},"Tc+K":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("TVG1"),o={name:"export_index",data:function(){return{data:[],pagination:{showQuickJumper:!0},loading:!1,fileUrl:"",columns:[{title:"编号",scopedSlots:{customRender:"indexs"},width:"10%",align:"center"},{title:"项目名称",dataIndex:"projectname",align:"center"},{title:"创建时间",dataIndex:"createtime",align:"center"},{title:"操作",width:"20%",scopedSlots:{customRender:"operation"},align:"center"}]}},mounted:function(){this.fetch(1)},methods:{fetch:function(t){var e=this;this.loading=!0,this.$request({method:"GET",url:"/projects",params:{page:t,pagesize:10}}).then(function(n){e.data=n.data.rows,e.pagination=a.a.pager(e,e.pagination,{current:t,total:n.data.totals}),e.loading=!1}).catch(function(t){e.loading=!1})},handleTableChange:function(t){this.fetch(t.current)},handleExportPdf:function(t){},handleExportWord:function(t){var e=this;this.loading=!0,this.$request({method:"POST",url:"/exports/word",data:{id:t.pid}}).then(function(t){200==t.code?(e.fileUrl=t.data.fileUrl,e.downloadFile()):e.$message.error(t.message),e.loading=!1}).catch(function(t){e.loading=!1})},downloadFile:function(){window.open("http://"+this.fileUrl,"myIframe")}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",[n("v-table",{attrs:{columns:t.columns,dataSource:t.data,pagination:t.pagination,loading:t.loading,bordered:""},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"indexs",fn:function(e,n,a){return[t._v("\n        "+t._s(a+1)+"\n      ")]}},{key:"operation",fn:function(e,a,o){return[n("div",{staticClass:"editable-row-operations"},[n("v-button-group",{attrs:{size:"small"}},[n("v-button",{attrs:{icon:"export"},on:{click:function(){return t.handleExportWord(a)}}},[t._v("WORD")])],1)],1)]}}])})],1),t._v(" "),n("iframe",{staticStyle:{display:"none"},attrs:{name:"myIframe"}})],1)},staticRenderFns:[]};var r=n("VU/8")(o,i,!1,function(t){n("dA7e")},"data-v-6197658b",null);e.default=r.exports},dA7e:function(t,e,n){var a=n("GYSj");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("8246886c",a,!0,{})}});
//# sourceMappingURL=12.d986aee6957f09a1ec9c.js.map